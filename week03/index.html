<!doctype html>
<html>
<head>
<head>
    <meta charset="utf-8">
    <title>DOM</title>
</head>
<body>

<div>
    <span class="abc">
        Hello
    </span>
</div>

<form method="POST">
    <button type="submit">Submit</button>
</form>

<script>
// old old way
// var tags = getElementsByTagName('span')
//
// for (var i=0;i < tags.length;i++) {
//     if (tags[i].className === 'abc') {
//         // do something
//     }
// }

// jquery way
// $('span.abc').each(function (tag) {
//     // do something
// })

// latest way
var tags = document.querySelectorAll('span.abc')

for (var i=0; i < tags.length; i++) {
    // do something
}

var onlyOne = document.querySelector('span.abc')

// slightly futuristic
// tags.forEach(function (tag) {
//     // do stuff
// })

// Create form
var form = document.createElement('form')
form.setAttribute('method', 'POST')

var button = document.createElement('button')
button.setAttribute('type', 'submit')

var text = document.createTextNode('Submit')

button.appendChild(text)
form.appendChild(button)

var body = document.querySelector('body')

body.appendChild(form)


// <script type="text/javascript" src="code.js" async>
var script = document.createElement('script')
script.setAttribute('type', 'text/javascript')
script.setAttribute('src', 'code.js')
script.setAttribute('async', '')
body.appendChild(script)


/*
var script = document.createElement('script')

function setAttributes(el, obj) {
    for (var key in obj) {
        el.setAttribute(key, obj[key])
    }
}

setAttributes(script, {
    type: 'text/javascript',
    src: 'code.js',
    async: ''
})
*/

// <style type="text/css">
//     * { background: yellow }
// </style>
var style = document.createElement('style')
var text = document.createTextNode('* { background: yellow }')
style.appendChild(text)
body.appendChild(style)

var div = document.createElement('div')
div.setAttribute('class', 'abc')

div.innerHTML = `
    <a href="http://google.com">
        Click here for Google
    </a>
`

body.appendChild(div)

var links = document.querySelectorAll('div.abc a')

for (var i=0;i < links.length;i++) {
    var link = links[i]

    link.addEventListener('click', function (event) {
        // handle event
        event.preventDefault()

        var p = document.createElement('p')
        p.appendChild(document.createTextNode('You clicked'))
        body.appendChild(p)
    })
}


var forms = document.querySelectorAll('form')

// loop over the forms on the page
for (var i=0;i < forms.length;i++) {
    var form = forms[i]

    // listen for a submit event
    form.addEventListener('submit', function (event) {
        // handle event
        event.preventDefault()

        // create a new paragraph on the page
        var p = document.createElement('p')
        p.appendChild(document.createTextNode('You submitted'))
        body.appendChild(p)
    })
}

</script>

</body>

</html>
