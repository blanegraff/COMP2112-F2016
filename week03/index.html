<!doctype html>
<html>
<head>
<head>
    <meta charset="utf-8">
    <title>DOM</title>
</head>
<body>

<div>
    <span class="abc">
        Hello
    </span>
</div>

<form method="POST">
    <button type="submit">Submit</button>
</form>

<script>
// old old way
// var tags = getElementsByTagName('span')
//
// for (var i=0;i < tags.length;i++) {
//     if (tags[i].className === 'abc') {
//         // do something
//     }
// }

// jquery way
// $('span.abc').each(function (tag) {
//     // do something
// })

// latest way
var tags = document.querySelectorAll('span.abc')

for (var i=0; i < tags.length; i++) {
    // do something
}

var onlyOne = document.querySelector('span.abc')

// slightly futuristic
// tags.forEach(function (tag) {
//     // do stuff
// })

// Create form
var form = document.createElement('form')
form.setAttribute('method', 'POST')

var button = document.createElement('button')
button.setAttribute('type', 'submit')

var text = document.createTextNode('Submit')

button.appendChild(text)
form.appendChild(button)

var body = document.querySelector('body')

body.appendChild(form)


// <div class="abc">
//     <a href="http://google.com" target="_blank">
//         Click here for Google
//     </a>
// </div>
var div = document.createElement('div')
div.setAttribute('class', 'abc')
var a = document.createElement('a')
a.setAttribute('href', 'http://google.com')
a.setAttribute('target', '_blank')
a.appendChild(document.createTextNode('Click here for Google'))
div.appendChild(a)
body.appendChild(div)

// <ol>
//     <li> <img src="cats.jpg" alt="Cats"> </li>
//     <li> Hello, <strong>world!</strong> </li>
// </ol>
var ol = document.createElement('ol')
var li = document.createElement('li')
var img = document.createElement('img')
img.setAttribute('src', 'cats.jpg')
img.setAttribute('alt', 'Cats')
li.appendChild(img)
ol.appendChild(li)

// reusing li variable for no good reason
li = document.createElement('li')
li.appendChild(document.createTextNode('Hello, ')) // note the extra space in here
var strong = document.createElement('strong')
strong.appendChild(document.createTextNode('world!'))
li.appendChild(strong)
ol.appendChild(li)

body.appendChild(ol)

// <script type="text/javascript" src="code.js" async>
var script = document.createElement('script')
script.setAttribute('type', 'text/javascript')
script.setAttribute('src', 'code.js')
script.setAttribute('async', '')
body.appendChild(script)


/*
var script = document.createElement('script')

function setAttributes(el, obj) {
    for (var key in obj) {
        el.setAttribute(key, obj[key])
    }
}

setAttributes(script, {
    type: 'text/javascript',
    src: 'code.js',
    async: ''
})
*/

// <style type="text/css">
//     * { background: yellow }
// </style>
var style = document.createElement('style')
var text = document.createTextNode('* { background: yellow }')
style.appendChild(text)
body.appendChild(style)

var div = document.createElement('div')
div.setAttribute('class', 'abc')

div.innerHTML = `
    <a href="http://google.com">
        Click here for Google
    </a>
`

body.appendChild(div)

var links = document.querySelectorAll('div.abc a')

for (var i=0;i < links.length;i++) {
    var link = links[i]

    link.addEventListener('click', function (event) {
        // handle event
        event.preventDefault()

        var p = document.createElement('p')
        p.appendChild(document.createTextNode('You clicked'))
        body.appendChild(p)
    })
}


var forms = document.querySelectorAll('form')

// loop over the forms on the page
for (var i=0;i < forms.length;i++) {
    var form = forms[i]

    // listen for a submit event
    form.addEventListener('submit', function (event) {
        // handle event
        event.preventDefault()

        // create a new paragraph on the page
        var p = document.createElement('p')
        p.appendChild(document.createTextNode('You submitted'))
        body.appendChild(p)
    })
}

// <select name="colour">
//     <option value="yellow">Yellow</option>
//     <option value="blue">Blue</option>
// </select>
var select = document.createElement('select')
select.setAttribute('name', 'colour')

var option = document.createElement('option')
option.setAttribute('value', 'yellow')
option.appendChild(document.createTextNode('Yellow'))
select.appendChild(option)

// reusing the option variable for a different option
option = document.createElement('option')
option.setAttribute('value', 'blue')
option.appendChild(document.createTextNode('Blue'))
select.appendChild(option)

body.appendChild(select)
</script>

</body>

</html>
